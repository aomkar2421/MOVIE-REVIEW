"use strict";(self.webpackChunklite=self.webpackChunklite||[]).push([[6546],{70370:(e,t,r)=>{r.d(t,{B:()=>o,_I:()=>i});var a=r(96540),n={updateWatchedBounds:function(){},watchedBounds:new Map},i=a.createContext(n),o=function(e){var t=e.children,r=e.className,n=e.name,o=e.type,c=e.offset,l=a.useContext(i).updateWatchedBounds,u=a.useRef(null);return a.useEffect((function(){l&&l(n,u,{type:o,offset:c})}),[]),a.createElement("div",{className:r,ref:u},t)}},54224:(e,t,r)=>{r.d(t,{DC:()=>b,LO:()=>S,PP:()=>R,W1:()=>y,wS:()=>T});var a=r(55127),n=r.n(a),i=r(96540),o=r(15706),c=r(23393),l=r(52290),u=r(86527),s=r(99731),d=r(36557),p=r(39410),h=r(34317),g=r(49287),f=r(44402),m=r(79429),E=r(39160),x=r(15371),v=r(46879),w={xs:277,sm:277,md:196,lg:196},b={xs:140,sm:195,md:90,lg:194},y={xs:105,sm:105,md:194,lg:194},S={sm:380},T=function(e,t){return function(r){return{display:"flex",backgroundColor:r.colorTokens.background.neutral.tertiary.base,justifyContent:"space-between",flexDirection:e?"column":"row",overflow:"hidden",border:"1px solid",borderColor:r.colorTokens.border.neutral.primary.base,borderRadius:"4px",maxHeight:"".concat(w[t],"px"),maxWidth:"100%",width:e?"100%":void 0,cursor:"pointer"}}},R=function(e){var t=e.catalog,r=(0,f.l)(),a=(0,E.d4)((function(e){return e.config.authDomain})),R=(0,h.$)(),k=(0,g.jI)(),O=(0,m.s)({onPresentedFn:function(){R.event("list.presented",{listId:t.id,source:k})}}),I=(0,o.r)(S),P="sm"===I||"xs"===I,C=y[I],A=b[I],W=i.useCallback((function(e){e.stopPropagation()}),[]),L=i.useCallback((function(){window.top?window.top.location.href=(0,v.n1u)(t,a):window.location.href=(0,v.n1u)(t,a)}),[t,a]),N=i.useCallback((function(e){"Enter"===e.key&&L()}),[L]);i.useEffect((function(){window.parent.postMessage(JSON.stringify({src:window.location.toString(),context:"iframe.resize",height:w[I]}),"*")}),[I]);var _=i.useMemo((function(){return[t.postItemsCount>0?"".concat(t.postItemsCount," ").concat(n()("story",t.postItemsCount)):null].filter((function(e){return e})).join(", ")}),[t.postItemsCount]);return i.createElement("div",{role:"button",tabIndex:0,onKeyDown:N,onClick:L,className:r(T(P,I))},i.createElement(l.a,{ref:O,padding:"24px"},i.createElement(l.a,{display:"flex",alignItems:"center"},i.createElement(c.H8,{user:t.creator,scale:"XXXS",target:"_top"}),i.createElement(l.a,{padding:"0 8px",flexShrink:"0"},i.createElement(d.kZ,{color:"LIGHTER",scale:"S",clamp:1},i.createElement(u.N,{target:"_top",onClick:W,href:(0,v.EpC)(t.creator,a)},t.creator.name)))),i.createElement(l.a,{marginTop:P?"16px":"24px",marginBottom:P?"16px":"24px",height:P?"20px":"48px"},i.createElement(p.hE,{scale:P?"XS":"S",clamp:P?1:2},t.predefined?(0,x.cm)(t.predefined):t.name)),i.createElement(l.a,{display:"flex",alignItems:"center"},i.createElement(l.a,{flexShrink:"0"},i.createElement(s.$n,{target:"_top",size:"SMALL",buttonStyle:"SUBTLE",href:(0,v.n1u)(t,a)},"View list")),_&&i.createElement(l.a,{paddingLeft:"16px",flexShrink:"0"},i.createElement(d.kZ,{color:"LIGHTER",scale:"S",tag:"span"},_)))),i.createElement(o.G,{coverHeight:C,coverWidth:A,catalogItems:t.listItemsConnection.items,isEmbeded:!0,breakpoints:S}))}},6546:(e,t,r)=>{r.d(t,{xl:()=>Te,_t:()=>Re,me:()=>Oe});var a=r(64467),n=r(80296),i=r(58168),o=r(96540),c=r(70370),l=r(23029),u=r(92901),s=r(85501),d=r(56822),p=r(53954),h=r(99986),g=r(86322),f=r(52290),m=o.forwardRef((function(e,t){var r=e.height,a=void 0===r?1:r,n=e.width,i=void 0===n?1:n,c=e.backgroundColor,l=void 0===c?"BASE_NORMAL":c,u=e.children,s=(i=i||1)/(a=a||1);return o.createElement(f.a,{position:"relative",margin:"auto",backgroundColor:l,ref:t,overflow:"hidden"},o.createElement(f.a,{paddingBottom:"".concat(100/s,"%"),height:"0"},u))})),E=r(45458),x=r(39),v=r(12378),w=r(44402),b=r(38667),y=function(e){return function(t){return(0,a.A)({marginTop:"10px",textAlign:e,maxWidth:"".concat((0,v.z)(t,8,!0),"px"),marginLeft:"left"===e?"0":"auto",marginRight:"auto"},b.lg(t),{marginLeft:"auto",textAlign:"center"})}},S=function(e){return function(){var t=e&&100*e;return{width:"".concat(t,"%"),position:"relative",left:"calc(".concat(100-t/2,"% - 8px)"),transform:"translateX(-50%)"}}},T=o.forwardRef((function(e,t){var r=e.children,a=e.richTextStyle,n=e.textAlign,i=void 0===n?"center":n,c=e.extendLeftRatio,l=(0,w.l)(),u=(0,x.Z)({name:"detail",scale:"CARD"===a?"S":"M",color:"LIGHTER"});return o.createElement("figcaption",{className:l([y(i),u].concat((0,E.A)(c?[S(c)]:[]))),ref:t},r)}));function R(e){var t=e.children,r=e.figCaption,a=e.className,n=e.figureRef;return o.createElement("figure",{className:a,ref:n},t,r)}var k=r(66305),O=r(31104),I=function(e){var t=e.rootMargin,r=e.children,a=e.target,i=o.useState(!1),c=(0,n.A)(i,2),l=c[0],u=c[1],s=o.useCallback((function(e){!l&&e.isIntersecting&&u(!0)}),[l]);return(0,O.B)({onIntersect:s,target:a,disconnect:function(){return l},rootMargin:t},[l]),"function"==typeof r?o.createElement(o.Fragment,null,r(l)):l?o.createElement(o.Fragment,null,r):null},P=function(){return{width:"1px",minWidth:"100%","*width":"100%"}};function C(e){var t,r=e.src,a=e.title,c=e.height,l=e.width,u=e.allowFullScreen,s=e.frameBorder,d=e.rules,p=e.placeholderRef,h=e.iframeRef,g=(0,w.l)(),f={src:r,allowFullScreen:u,frameBorder:s,height:c,width:l},m=o.useState(!1),E=(0,n.A)(m,2),x=E[0],v=E[1],b=o.useState(!1),y=(0,n.A)(b,2),S=y[0],T=y[1];return S||k.R5.on("load",(function(){return T(!0)})),null!=h&&null!==(t=h.current)&&void 0!==t&&t.parentElement&&h.current.parentElement.offsetWidth<h.current.offsetWidth&&!x&&v(!0),S?o.createElement(I,{rootMargin:"200px 0px",target:p},(function(e){return e?o.createElement("iframe",(0,i.A)({},f,{ref:h,title:a,className:g(x?[d,P]:d),scrolling:"no"})):null})):null}var A=r(51260),W=r(89796),L=r(48619),N=function(e){var t=e.paragraph,r=e.paragraphStyle,i=e.richTextStyle,c=e.spaceTop,l=e.updateWatchedBounds,u=(0,w.l)(),s=o.useRef(null),d=(t.iframe||{}).mediaResource,p=d||{},f=p.id,E=p.iframeSrc,x=p.iframeHeight,v=p.iframeWidth,y=p.title,S=(0,A.au)(),k=E;k||(k=f?S("FetchMediaResourceEmbed",{mediaResourceId:f}):"");var O=function(e){var t=e.src,r=e.initialHeight,a=e.initialWidth,i=o.useRef(null),c=o.useState(r),l=(0,n.A)(c,2),u=l[0],s=l[1],d=o.useState(a),p=(0,n.A)(d,2),h=p[0],f=p[1];return o.useEffect((function(){if(""!==t){var e=(0,g.u)((function(e,r){i.current&&"MEASURE"===e.type&&e.details.height>0&&(f(i.current.offsetWidth),i.current.contentWindow===r&&s(e.details.height)),"iframe.resize"===e.context&&e.src===t&&e.height>0&&(i.current&&f(i.current.offsetWidth),s(e.height))})).destructor;return function(){e()}}}),[t,r]),[u,h,i]}({src:k,initialHeight:x||0,initialWidth:v||0}),I=(0,n.A)(O,3),P=I[0],N=I[1],_=I[2],B=o.useRef(null);if(o.useEffect((function(){if(l&&d&&d.id&&N&&P){var e="";s.current&&(e=s.current.offsetTop.toString()),l("".concat(d.id,"-").concat(e),s,{type:"image"})}}),[]),!k)return null;var M=t.text?o.createElement(T,{richTextStyle:i},o.createElement(h.O,{paragraph:t,paragraphStyle:r,richTextStyle:i})):null,H=[(0,L.o8)(c)];return H.push((function(){return{clear:"both"}})),"OUTSET_LEFT"===(t.layout||void 0)&&"STREAM"!==i&&"INLINE"!==i&&H.push((function(e){var t;return t={background:e.backgroundColor,borderWidth:e.borderWidthThick+"px",borderStyle:e.borderStyle,borderColor:e.backgroundColor,float:"left",marginLeft:"-150px",marginRight:"30px",width:"75%",padding:"0",paddingBottom:"10px"},(0,a.A)(t,b.md(e),{float:"none",marginLeft:"0",marginRight:"0",width:"100%"}),(0,a.A)(t,"marginBottom","16px"),t})),o.createElement(R,{className:u(H),figCaption:M,figureRef:s},o.createElement(m,{height:P,width:N,backgroundColor:"NONE",ref:B},o.createElement(C,{placeholderRef:B,iframeRef:_,src:k,title:y||"",height:P,width:N,allowFullScreen:!0,frameBorder:"0",rules:W.u})))},_=o.memo(N),B=r(36944),M=r.n(B),H=r(2680),j=r(15324),F=r(9459),D=r(90383),z=function(e){var t=(0,n.A)(e,1)[0];return"number"==typeof t?"".concat(t,"px"):t},U=function(e){var t=(0,n.A)(e,1)[0];return"".concat(t[0],"% ").concat(t[1],"%")},G=function(e){return(0,n.A)(e,1)[0]};function Y(e){var t=e.backgroundImage,r=e.boxShadowRules,a=e.miroId,n=e.height,i=e.width,c=e.minHeight,l=e.minWidth,u=e.imgHeight,s=e.imgWidth,d=e.focusPercent,p=e.strategy,h=void 0===p?D.qY.Resample:p,g=e.freezeGifs,f=(0,w.l)(),m=t;if(!m){var E=(0,D.rP)({miroId:a,height:u,width:s,strategy:h,freezeGifs:g});m="url(".concat(E,")")}var x=(0,F.Fv)(z,n),v=(0,F.Fv)(z,i),b=c&&(0,F.Fv)(z,c),y=l&&(0,F.Fv)(z,l),S=(0,F.Fv)(U,d),T={backgroundImage:(0,F.Fv)(G,m),display:"block",backgroundOrigin:"border-box",backgroundSize:"cover",height:x,width:v,minHeight:b,minWidth:y,backgroundPosition:S,maxWidth:"100%"};return o.createElement("div",{className:f([T,r])})}Y.defaultProps={focusPercent:[50,50]};var q=r(60763),V=function(e){return{backgroundColor:e.colorTokens.background.accent.quaternary.base}},X=function(e,t){var r=(0,D.rP)({freezeGifs:!1,miroId:e,strategy:D.qY.Resample,width:t.breakpoints.sm}),a=(0,D.rP)({freezeGifs:!1,miroId:e,strategy:D.qY.Resample,width:t.breakpoints.md}),n=(0,D.rP)({freezeGifs:!1,miroId:e,strategy:D.qY.Resample,width:t.breakpoints.lg}),i=(0,D.rP)({freezeGifs:!1,miroId:e,strategy:D.qY.Resample,width:t.breakpoints.xl});return{xl:"url('".concat(i,"')"),lg:"url('".concat(i,"')"),md:"url('".concat(n,"')"),sm:"url('".concat(a,"')"),xs:"url('".concat(r,"')")}};function Q(e){var t=e.metadata,r=(0,w.l)();return o.createElement(q.A,null,(function(e){return o.createElement("div",{className:r(V)},o.createElement(Y,{backgroundImage:X(t.id,e),miroId:t.id,height:"60vh",width:"100%",minHeight:{xl:500,lg:400,md:400,sm:300,xs:300},imgHeight:500,imgWidth:2e3,focusPercent:null===t.focusPercentX||void 0===t.focusPercentX||null===t.focusPercentY||void 0===t.focusPercentY?void 0:[t.focusPercentX,t.focusPercentY]}))}))}var J=r(79501),Z=r(77865),K=r(91958),$=r(60561),ee=function(e){var t=e.highlights,r=e.isSequenceCover,c=void 0!==r&&r,l=e.marginTopOverride,u=e.paragraph,s=e.paragraphStyle,d=e.privateNotes,p=e.richTextStyle,g=e.sequenceAspectRatio,m=e.spaceTop,E=e.updateWatchedBounds,x=e.loading,v=void 0===x?Z.u.LAZY:x,y=e.marginBottomOverride,S=(0,w.l)(),k=o.useRef(null),O=(0,H.fc)(u,s);return o.useEffect((function(){if(E){var e=u.name,t=u.metadata&&u.metadata.id;if(e&&t){var r="";k.current&&(r=k.current.offsetTop.toString()),E("".concat(e,"-").concat(t,"-").concat(r),k,{type:"image"})}}}),[]),o.useMemo((function(){var e=u.metadata,r=u.layout;if(!e)return null;var E,x=e.id,w=e.originalHeight,I=e.originalWidth,P=e.alt,C=(0,D.dP)(x),A="CARD"===p||"INLINE"===p,W=(0,$.ky)({layout:r,originalWidth:I||0,originalHeight:w||0,sequenceAspectRatio:g,richTextStyle:p}),N=W.width,_=W.height,B=W.strategy;if("OUTSET_ROW_CONTINUE"===r&&I&&w&&g){var H=I/w;E=M()(g/H,2)}var z,U=u.text?o.createElement(T,{ref:O,richTextStyle:p,textAlign:c?"left":"center",extendLeftRatio:E},d&&o.createElement(j.F,{paragraph:u,privateNotes:d}),o.createElement(h.O,{highlights:t,paragraph:u,paragraphStyle:s,richTextStyle:p})):null;if(c)z=o.createElement(Q,{metadata:{id:x,focusPercentX:e.focusPercentX,focusPercentY:e.focusPercentY}});else{var G={alt:P||"",miroId:x,height:_,width:N,rules:[{width:"100%",maxWidth:"100%",height:"auto"}],maxWidth:_?void 0:"100%",strategy:B,freezeGifs:"STREAM"===p||"RESAMPLE"!==B,focusPercentX:e.focusPercentX,focusPercentY:e.focusPercentY,expectedWidth:N,loading:v,webp:!0};if("FULL_WIDTH"===r)z=o.createElement(J.t,(0,i.A)({},G,{height:e.originalHeight||G.height,width:e.originalWidth||G.width}));else if("OUTSET_LEFT"===r||"INSET_LEFT"===r||"INSET_CENTER"===r&&I||"OUTSET_CENTER"===r&&I){var Y=I&&(C?I/2:I);z=o.createElement(K.pB,{isLinked:!!u.href,width:G.width,height:G.height,originalHeight:e.originalHeight,originalWidth:e.originalWidth,paragraphRef:k},o.createElement("div",{className:S((function(e){return{marginLeft:"auto",marginRight:"auto",maxWidth:"OUTSET_CENTER"===r&&Y&&Y<e.maxWidths.outset?"".concat(e.maxWidths.outset,"px"):"".concat(Y,"px")}}))},o.createElement(J.t,(0,i.A)({},G,{height:G.height||e.originalHeight||void 0,width:G.width||e.originalWidth||void 0}))))}else z=I&&"INSET_CENTER"!==r?o.createElement(K.pB,{isLinked:!!u.href,width:G.width,height:G.height,originalHeight:e.originalHeight,originalWidth:e.originalWidth,paragraphRef:k},o.createElement(J.t,(0,i.A)({},G,{height:e.originalHeight||G.height,width:e.originalWidth||G.width}))):o.createElement(f.a,{display:"flex",justifyContent:"center",alignItems:"flex-start",sm:{display:"block"}},o.createElement(K.pB,{isLinked:!!u.href,width:G.width,height:G.height,originalHeight:e.originalHeight,originalWidth:e.originalWidth,paragraphRef:k},o.createElement(J.t,(0,i.A)({},G,{width:void 0,maxWidth:"100%",strategy:D.qY.Proxy}))));u.href&&(z=o.createElement("a",{href:u.href},z))}var q=[void 0===l?(0,L.o8)(m):(0,L.o8)(l)];if(y&&q.push((function(){return{marginBottom:(0,F.Fv)((function(e){var t=(0,n.A)(e,1)[0];return"".concat(t,"px")}),y)}})),q.push({clear:"both"}),c)q.push((function(e){return(0,a.A)({},b.lg(e),{paddingLeft:"0px",paddingRight:"0px"})}));else if(("OUTSET_ROW"===r||"OUTSET_ROW_CONTINUE"===r)&&I&&w&&g){var V=I/w,X=M()(V/g*100,2);q.push({width:"".concat(X,"%"),marginRight:"10px",paddingTop:"5px",paddingBottom:"5px",":last-of-type":{marginRight:0}})}else"OUTSET_LEFT"===r&&A?q.push({marginLeft:"auto",marginRight:"auto"}):"OUTSET_LEFT"!==r||A?"INSET_LEFT"===r?q.push({float:"left",width:"50%",paddingBottom:"10px",paddingRight:"30px",marginBottom:"16px"}):"FULL_WIDTH"===r?q.push({width:"100%"}):"INSET_CENTER"===r?q.push({marginLeft:"auto",marginRight:"auto"}):"OUTSET_CENTER"===r&&q.push({paddingTop:"5px",paddingBottom:"5px"}):q.push((function(e){var t;return t={background:e.backgroundColor,borderWidth:e.borderWidthThick+"px",borderStyle:e.borderStyle,borderColor:e.backgroundColor,float:"left",marginLeft:"-150px",marginRight:"30px",width:"75%",padding:"0",paddingBottom:"10px"},(0,a.A)(t,b.lg(e),{float:"none",marginLeft:"0",marginRight:"0",width:"100%"}),(0,a.A)(t,"marginBottom","16px"),t}));return o.createElement(R,{className:"".concat(S(q)," paragraph-image"),figCaption:U,figureRef:k},z)}),[JSON.stringify(u),JSON.stringify(d),JSON.stringify(t)])},te=o.memo(ee),re=r(39181),ae=r(64373),ne=r(54224),ie=r(15706),oe=function(){var e=(0,w.l)(),t=(0,ie.r)(ne.LO),r="sm"===t||"xs"===t,a=ne.W1[t],n=ne.DC[t];return o.createElement("div",{className:e((0,ne.wS)(r,t))},o.createElement(f.a,{padding:"24px"},o.createElement(f.a,{display:"flex",alignItems:"center"},o.createElement(f.a,{height:"20px",width:"20px",borderRadius:"50%",backgroundColor:"BASE_NORMAL"}),o.createElement(f.a,{padding:"0 8px",flexShrink:"0"},o.createElement(f.a,{height:"4px",width:"50px",backgroundColor:"BASE_NORMAL"}))),o.createElement(f.a,{marginTop:r?"16px":"24px",marginBottom:r?"16px":"24px",height:r?"20px":"48px"},o.createElement(f.a,{height:"20px",width:"120px",backgroundColor:"BASE_NORMAL"})),o.createElement(f.a,{display:"flex",alignItems:"center"},o.createElement(f.a,{flexShrink:"0"},o.createElement(f.a,{height:"40px",width:"100px",borderRadius:"20px",backgroundColor:"BASE_NORMAL"})))),o.createElement(ie.G,{coverHeight:a,coverWidth:n,catalogItems:[],isEmbeded:!0,breakpoints:ne.LO}))},ce=function(e){var t=e.catalog;return e.loading?o.createElement(oe,null):t?o.createElement(ne.PP,{catalog:t}):null},le=r(86975),ue=r(39410),se=r(27622),de=r(36557),pe=function(e){return{boxShadow:"inset 0 0 0 1px ".concat(e.colorTokens.border.neutral.primary.base)}},he=function(e){var t=e.paragraph,r=e.processedStructuredMarkup,a=t.mixtapeMetadata;if(!a||!a.href)return null;var n=a.href,i=r.title,c=r.description,l=r.domain;return o.createElement(le.D,{href:n||"",target:"_blank"},o.createElement(f.a,{display:"flex",flexShrink:"0",padding:"0px"},o.createElement(f.a,{padding:"16px 20px",flexShrink:"1",flexGrow:"1",display:"flex",justifyContent:"center",flexDirection:"column",sm:{padding:"10px 12px 10px"}},o.createElement(ue.hE,{scale:"XS",clamp:2},i),c&&o.createElement(f.a,{marginTop:"8px"},o.createElement(se.Pd,{scale:"S",clamp:2},c)),l&&o.createElement(f.a,{marginTop:"12px"},o.createElement(de.kZ,{scale:"S",clamp:2},l))),a&&a.thumbnailImageId&&o.createElement(f.a,{width:"160px"},o.createElement(Y,{boxShadowRules:pe,miroId:a.thumbnailImageId,width:160,height:167,strategy:D.qY.Resample,focusPercent:[50,50],imgHeight:167,imgWidth:160}))))},ge=function(e){return{boxShadow:"inset 0 0 0 1px ".concat(e.colorTokens.border.neutral.primary.base)}},fe=function(e){var t,r,a,n,i,c=e.paragraph,l=e.spaceTop,u=e.structuredMarkup,s=(0,w.l)(),d=!(null===(t=c.mixtapeMetadata)||void 0===t||null===(r=t.mediaResource)||void 0===r||!r.mediumCatalog),p=(0,re.I)(ae.q,{variables:{catalogId:null===(a=c.mixtapeMetadata)||void 0===a||null===(n=a.mediaResource)||void 0===n||null===(i=n.mediumCatalog)||void 0===i?void 0:i.id},skip:!d}),h=p.loading,g=p.data,f=p.error,m=c.mixtapeMetadata,E=c.type;if(!m||!m.href||!E)return null;var x,v=u||function(e){var t=e.text,r=e.markups;if(!t)return null;var a=r.find((function(e){return"STRONG"===e.type}));if(!a)return null;var n=r.find((function(e){return"EM"===e.type})),i=a.end,o=n?n.end:a.end;return{title:t.slice(a.start,i).trim(),description:n?t.slice(n.start,n.end).trim():null,domain:t.slice(o).trim()||null}}(c),b=[(0,L.o8)(l)],y=!!f||g&&"Catalog"!==g.catalogById.__typename;if(d&&!y)x=o.createElement(ce,{catalog:null==g?void 0:g.catalogById,loading:h});else{if(!v)return null;b.push(ge),x=o.createElement(he,{paragraph:c,processedStructuredMarkup:v})}return o.createElement("div",{className:s(b)},x)},me=r(45639),Ee=r(49728),xe=r(24023);var ve=function(e){(0,s.A)(n,e);var t,r,a=(t=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,p.A)(t);if(r){var n=(0,p.A)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,d.A)(this,e)});function n(){return(0,l.A)(this,n),a.apply(this,arguments)}return(0,u.A)(n,[{key:"render",value:function(){var e,t=this.props,r=t.highlights,a=t.inserts,n=t.marginTopOverride,i=t.paragraph,l=t.paragraphStyle,u=t.privateNotes,s=t.richTextStyle,d=t.sequenceAspectRatio,p=t.spaceTop,h=t.loading,g=t.marginBottomOverride;switch(l){case Ee.em.IMG:e=o.createElement(c._I.Consumer,null,(function(e){var t=e.updateWatchedBounds;return o.createElement(te,{highlights:r,marginTopOverride:n,paragraph:i,paragraphStyle:l,privateNotes:u,richTextStyle:s,sequenceAspectRatio:d,spaceTop:p,updateWatchedBounds:t,loading:h,marginBottomOverride:g})}));break;case Ee.em.P:case Ee.em.BQ:case Ee.em.PQ:case Ee.em.H1:case Ee.em.H2:case Ee.em.H3:case Ee.em.H4:case Ee.em.ULI:case Ee.em.OLI:case Ee.em.PRE:case Ee.em.Kicker:case Ee.em.Subtitle:case Ee.em.Title:e=o.createElement(me.i,{highlights:r,marginTopOverride:n,paragraph:i,paragraphStyle:l,privateNotes:u,richTextStyle:s,spaceTop:p,marginBottomOverride:g});break;case Ee.em.IFRAME:e=o.createElement(c._I.Consumer,null,(function(e){var t=e.updateWatchedBounds;return o.createElement(_,{paragraph:i,paragraphStyle:l,richTextStyle:s,spaceTop:p,updateWatchedBounds:t})}));break;case Ee.em.MIXTAPE_EMBED:e=o.createElement(fe,{paragraph:i,spaceTop:p});break;case Ee.em.COVER_TITLE:case Ee.em.SECTION_CAPTION:case Ee.em.HR:e=null;break;default:(0,xe.xb)(l),e=null}return a&&a.length?o.createElement(o.Fragment,null,a.map((function(e){return"before"===e.order&&e.component})),e,a.map((function(e){return"after"===e.order&&e.component}))):e}}]),n}(o.Component),we=r(80890);function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){(0,a.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Se=function(e){var t=e.styleGroup,r=e.postBodyInserts,a=e.loading,n=(0,w.l)(),l=Ie(t),u=t.paragraphViewModels.map((function(e){var t=e.paragraph.name,n=r&&r[null!=t?t:""],l=o.createElement(ve,(0,i.A)({key:e.paragraph.name,inserts:n,loading:a},e));return"Title"===e.paragraphStyle||"Subtitle"===e.paragraphStyle?o.createElement(c.B,{name:"title",type:"byline",offset:{left:-600},key:"".concat(e.paragraph.name,"-wb")},l):l}));return l?o.createElement(l,{className:n([Oe({paragraphStyle:t.paragraphStyle,topSpacing:t.topSpacing,paragraphLayout:t.paragraphLayout,richTextStyle:t.paragraphViewModels[0].richTextStyle,paragraph:t.paragraphViewModels[0].paragraph})])},u):o.createElement(o.Fragment,null,u)},Te=o.memo(Se),Re=function(e){var t=[];return e.forEach((function(e){var r=e.paragraphStyle,a=e.paragraph.layout,n=t[t.length-1];n&&ke(n,e)?n.paragraphViewModels.push(e):t.push({paragraphStyle:r,paragraphLayout:a,topSpacing:e.sequenceSpaceTop||0,paragraphViewModels:[e]})})),t},ke=function(e,t){if(e.paragraphStyle!==t.paragraphStyle)return!1;if("PRE"===e.paragraphStyle){var r,a=!(null===(r=e.paragraphViewModels[0].paragraph)||void 0===r||!r.codeBlockMetadata);return!t.paragraph.codeBlockMetadata&&!a}var n=t.paragraph.layout;return"OUTSET_ROW"===e.paragraphLayout?"OUTSET_ROW_CONTINUE"===n:e.paragraphLayout===n},Oe=function(e){var t=e.paragraphStyle,r=e.topSpacing,a=e.paragraphLayout,i=e.richTextStyle,o=e.paragraph;return function(e){var c={};switch(r&&(c.marginTop=(0,F.Fv)((function(e){var t=(0,n.A)(e,1)[0];return"".concat(t,"px")}),r)),t){case"BQ":var l=e.colorTokens.border.neutral.secondary.base||"";return ye(ye({},c),{},{boxShadow:"inset ".concat(3,"px 0 0 0 ").concat(l),paddingLeft:"".concat(23,"px"),marginLeft:(0,Ee.GG)(i)?"0px":"-20px"});case"PRE":var u=null==o?void 0:o.codeBlockMetadata,s=ye(ye({},c),{},{overflowX:"auto",fontFamily:we.xG}),d={padding:"32px",borderRadius:"4px",border:"".concat(e.borderWidth,"px solid ").concat(e.colorTokens.border.neutral.tertiary.base),background:e.colorTokens.background.neutral.tertiary.base,color:e.colorTokens.foreground.neutral.primary.base},p={padding:"20px",borderRadius:0,border:"none",background:e.colorTokens.background.neutral.secondary.base,color:e.colorTokens.foreground.neutral.primary.base};return ye(ye({},s),u?d:p);case"PQ":return ye(ye({},c),{},{paddingLeft:"SERIES"===i?"0px":"30px"})}return"OUTSET_ROW"===a?ye(ye({},c),{},{display:"flex",flexDirection:"row"}):c}},Ie=function(e){var t=e.paragraphStyle,r=e.paragraphLayout;switch(t){case"OLI":return"ol";case"ULI":return"ul";case"BQ":case"PQ":return"blockquote";case"PRE":return"pre"}return"OUTSET_ROW"===r?"div":null}},86322:(e,t,r)=>{function a(e){e&&e.iframe&&e.height&&e.iframe.getAttribute&&"number"==typeof e.height&&o({context:"iframe.resize",height:e.height,src:e.iframe.getAttribute("src")||""})}function n(e){if(e.data&&"string"==typeof e.data){var t;try{t=JSON.parse(e.data)}catch(e){return}o(t,e.source)}}r.d(t,{u:()=>c});var i=[];function o(e,t){i.forEach((function(r){return r(e,t)}))}function c(e){return window._resizeIframe||(window._resizeIframe=a,window.addEventListener("message",n)),i.push(e),{destructor:function(){0===(i=i.filter((function(t){return e!==t}))).length&&"undefined"!=typeof window&&(window._resizeIframe=null,window.removeEventListener("message",n))}}}},79501:(e,t,r)=>{r.d(t,{t:()=>h});var a=r(45458),n=r(64467),i=r(80296),o=r(96540),c=r(77865),l=r(91958),u=r(90383),s=r(60561);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(e){var t=e.alt,r=e.rules,n=e.miroId,d=e.width,h=e.maxWidth,g=e.expectedWidth,f=e.height,m=e.strategy,E=e.freezeGifs,x=e.focusPercentX,v=e.focusPercentY,w=e.loading,b=e.webp,y=void 0!==b&&b,S=(0,l.f4)(),T=(0,o.useState)(!1),R=(0,i.A)(T,2),k=R[0],O=R[1],I=y&&!k,P={miroId:n,width:d,height:f,strategy:m,freezeGifs:E,focusPercentX:x,focusPercentY:v},C=(0,u.rP)(P),A=g===s.Vw||S?"100vw":"".concat(g,"px"),W=(0,o.useMemo)((function(){var e=[320,360,375,393,414,550];g&&e.push(g),S&&e.push(s.Vw);var t=e.map((function(e){var t=2*e,r=(0,u.rP)(p(p({},P),{},{width:t,ignorePixelRatio:!0}));return"".concat(r," ").concat(t,"w")})),r=e.map((function(e){var t=2*e,r=(0,u.rP)(p(p({},P),{},{ignorePixelRatio:!0,width:t,webp:!0}));return"".concat(r," ").concat(t,"w")})),n=(0,a.A)(t).join(", "),i=(0,a.A)(r).join(", ");return{sizes:"(min-resolution: 4dppx) and (max-width: ".concat(s.E2,"px) 50vw,\n                   (-webkit-min-device-pixel-ratio: 4) and (max-width: ").concat(s.E2,"px) 50vw, \n                   (min-resolution: 3dppx) and (max-width: ").concat(s.E2,"px) 67vw,\n                   (-webkit-min-device-pixel-ratio: 3) and (max-width: ").concat(s.E2,"px) 65vw, \n                   (min-resolution: 2.5dppx) and (max-width: ").concat(s.E2,"px) 80vw,\n                   (-webkit-min-device-pixel-ratio: 2.5) and (max-width: ").concat(s.E2,"px) 80vw,\n                   (min-resolution: 2dppx) and (max-width: ").concat(s.E2,"px) 100vw,\n                   (-webkit-min-device-pixel-ratio: 2) and (max-width: ").concat(s.E2,"px) 100vw,\n                   ").concat(A).replace(/\s+/g," "),srcSet:n,transcodedSrcSet:i}}),[S,g,s.E2,P,2]),L=W.sizes,N=W.srcSet,_=W.transcodedSrcSet,B=[],M={};return h&&(M.maxWidth=h,B=B.concat([M])),r&&(B=B.concat(r).concat((function(e){return{backgroundColor:e.backgroundColor}}))),o.createElement("picture",null,I&&o.createElement("source",{srcSet:_,sizes:L,type:"image/webp"}),o.createElement("source",{"data-testid":"og",srcSet:N,sizes:L}),o.createElement(c._,{imgRef:function(e){return function(t){t&&!t.src&&(t.src=e)}}(C),alt:t,rules:B,width:g,height:f,loading:w,handleError:function(){return O(!0)}}))}},91958:(e,t,r)=>{r.d(t,{f4:()=>v,pB:()=>w});var a=r(80296),n=r(64467),i=r(96540),o=r(3005),c=r(34317),l=r(44402),u=r(66305),s=r(15578),d=r(78693),p=r(42396);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=(0,n.A)({},(0,s.Oe)("no-preference"),{transition:"transform 300ms cubic-bezier(0.2, 0, 0.2, 1)"}),m=function(e,t,r,a,n,i){var o=n*i,c=a*i,l=(e-c)/2,u=((t-o)/2-(r.left+(n-o)/2))/i,s=(l-(r.top+(a-c)/2))/i;return g(g({},f),{},{zIndex:d.Ay.floating,transform:"scale(".concat(i,") translate(").concat(u,"px, ").concat(s,"px)"),position:"absolute",cursor:"zoom-out",height:"".concat(a,"px"),width:"".concat(n,"px")})},E=function(e,t,r,a,n,i,o){if(!(n&&o&&i&&e))return{};var c=Math.min(Math.min(t,a||1/0)/o,Math.min(e,r||1/0)/i);return c<1?m(e,t,n,n.height,n.width,Math.min(t/n.width,e/n.height)):m(e,t,n,i,o,c)},x=(0,i.createContext)(!1),v=function(){return(0,i.useContext)(x)},w=function(e){var t=e.children,r=e.height,a=e.width,n=e.originalHeight,o=e.originalWidth,c=e.paragraphRef;return e.isLinked||!n||!o||!r||r===n&&a===o?t:i.createElement(b,{originalHeight:n,originalWidth:o,height:r,width:a,paragraphRef:c},t)},b=function(e){var t=e.children,r=e.originalHeight,n=e.originalWidth,s=e.height,h=e.width,m=e.paragraphRef,v=(0,i.useState)(null),w=(0,a.A)(v,2),b=w[0],y=w[1],S=(0,i.useState)(0),T=(0,a.A)(S,2),R=T[0],k=T[1],O=(0,i.useState)(0),I=(0,a.A)(O,2),P=I[0],C=I[1],A=(0,l.l)(),W=(0,c.$)(),L=m&&m.current&&m.current.getBoundingClientRect(),N=(0,i.useRef)(null),_=(0,i.useCallback)((function(){W.event("client.action",{action:"zoom",eventType:"click"})}),[]),B=(0,i.useCallback)((function(){N.current&&N.current.focus(),y(!1)}),[null==N?void 0:N.current,y]);!function(e,t){var r=(0,i.useRef)(0),a=(0,i.useRef)(1),n=(0,i.useCallback)((function(){var e=window.visualViewport.scale;e===a.current&&Math.abs(r.current-window.scrollY)>40&&t(),a.current=e}),[t]);(0,i.useEffect)((function(){if(e)return r.current=window.scrollY,a.current=window.visualViewport.scale,u.R5.on("scroll",n),function(){u.R5.off("scroll",n)}}),[n,e])}(!!b,B);var M=(0,i.useCallback)((function(){k(window.innerHeight),C(window.innerWidth)}),[k,C]);(0,i.useEffect)((function(){return k(window.innerHeight),C(window.innerWidth),u.R5.on("resize",M),function(){u.R5.off("resize",M)}}),[k,C,M]);var H,j=(0,p.x)((function(){b?B():(_(),y(!0))}),[_,y,b,B]);return i.createElement(i.Fragment,null,i.createElement(x.Provider,{value:b},i.createElement("div",{onClick:j,onKeyDown:j,role:"button",tabIndex:0,ref:N,className:A(b?E(R,P,r,n,L,s,h):(H=b,g(g({},f),{},{cursor:"zoom-in",position:"relative",zIndex:null===H?"auto":d.Ay.floating,width:"100%",":focus":{transform:"scale(1.01)"}}))),onTransitionEnd:function(){b||y(null)}},t),i.createElement(o.l,{shouldTrapFocus:!1,padding:0,withPageScroll:!0,isVisible:!!b,hide:B,withCloseButton:!1},i.createElement(i.Fragment,null))))}},42396:(e,t,r)=>{r.d(t,{x:()=>n});var a=r(96540),n=function(e,t){return a.useCallback((function(t){"key"in t&&"Enter"!==t.key&&" "!==t.key||("key"in t&&" "===t.key&&t.preventDefault(),e(t))}),t)}},60561:(e,t,r)=>{r.d(t,{E2:()=>o,Vw:()=>n,ky:()=>c});var a=r(90383),n=2400,i=1e3,o=700,c=function(e){var t=e.layout,r=e.originalWidth,c=e.originalHeight,l=e.sequenceAspectRatio,u=e.richTextStyle,s=a.qY.Resample,d=c&&r?c/r:null,p=r;switch(t){case"CROPPED_HEIGHT_PREVIEW":p=o,d=.3,s=a.qY.Crop;break;case"CONSTRAINED_HEIGHT_PREVIEW":p=o,d&&240/d<p&&(p=240/d);break;case"INSET_LEFT":case"INSET_CENTER_SMALL":case"INSET_RIGHT":p=350;break;case"OUTSET_LEFT":p="CARD"===u?i:500;break;case"OUTSET_ROW":case"OUTSET_ROW_CONTINUE":p=i,l&&d&&(p*=1/d/l);break;case"OUTSET_CENTER":p=i;break;case"FULL_WIDTH":case"FULL_WIDTH_CROPPED_COVER":p=n;break;default:p=o}return r&&(p=Math.min(p,r)),{width:p=Math.ceil(p),height:d?Math.ceil(d*p):void 0,strategy:s}}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/6546.c1a10ee4.chunk.js.map