"use strict";(self.webpackChunklite=self.webpackChunklite||[]).push([[5025],{68715:(e,n,i)=>{i.d(n,{n:()=>a});var t=i(45458),o=i(82567),l=i(3545),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionTooltip_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"subscriberCount"}},{kind:"Field",name:{kind:"Name",value:"customStyleSheet"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"header"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionFollowButton_collection"}}]}}].concat((0,t.A)(o.$.definitions),(0,t.A)(l.f.definitions))}},18599:(e,n,i)=>{i.d(n,{a:()=>b});var t=i(96540),o=i(28899),l=i(87147),a=i(67476),c=i(75636),d=i(5562),r=i(52290),u=i(86975),m=i(86527),s=i(56942),k=i(36557),p=i(39),f=i(44402),v=i(51260),S=i(90383),g=i(27715),N=i(60213),b=function(e){var n=e.collection,i=e.buttonSize,a=e.buttonStyleFn,d=n.name,u=n.description;return(0,c.z)({name:"enable_updated_pub_recs_ui",placeholder:!1})?t.createElement(w,{collection:n}):t.createElement(r.a,{padding:"15px",display:"flex",flexDirection:"column",width:"300px"},t.createElement(r.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",whiteSpace:"normal",borderBottom:"neutral.primary",paddingBottom:"10px",marginBottom:"10px"},t.createElement(r.a,{display:"flex",flexDirection:"column",paddingRight:"5px"},t.createElement(s.DZ,{scale:"S"},d),t.createElement(k.kZ,{scale:"S"},u)),t.createElement(r.a,null,t.createElement(o.u,{collection:n,link:!0}))),t.createElement(r.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},t.createElement(k.kZ,{scale:"M"},"Followed by ",(0,g.Ct)(n.subscriberCount||0)," people"),t.createElement(l.E,{collection:n,buttonSize:i,buttonStyleFn:a,susiEntry:"follow_card"})))},C=function(e){return{":hover span":{color:e.colorTokens.foreground.neutral.primary.base}}},y=function(e){return{position:"absolute",height:"42px",width:"100%",top:0,left:0,borderTopLeftRadius:"4px",borderTopRightRadius:"4px",backgroundImage:"url(".concat(e,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"}},w=function(e){var n,i,c=e.collection,s=c.name,b=c.description,w=c.customStyleSheet,E=c.slug,F=(0,N.z)(c),h=(0,v.au)()("ShowLiteCollectionFollowers",{collectionSlug:E}),x=(0,p.Z)({name:"heading",scale:"XS",clamp:2,fontWeight:"NORMAL",color:"NORMAL"}),_=(0,f.l)(),D=null!=w&&null!==(n=w.header)&&void 0!==n&&null!==(i=n.backgroundImage)&&void 0!==i&&i.id?(0,S.rP)({miroId:w.header.backgroundImage.id,strategy:S.qY.Resample}):null;return t.createElement(r.a,{width:"280px",display:"flex",flexDirection:"column",padding:"24px",position:"relative"},!!D&&t.createElement("div",{className:_(y(D))}),t.createElement(r.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end"},t.createElement(o.u,{size:64,collection:c,link:!0}),t.createElement(r.a,null,t.createElement(l.E,{collection:c,buttonSize:"SMALL",buttonStyleFn:function(e){return e?"SUBTLE":"BRAND"},susiEntry:"follow_card"}))),t.createElement(r.a,{marginTop:"12px",display:"flex",flexDirection:"column"},t.createElement(u.D,{href:F},t.createElement(r.a,{display:"flex",flexDirection:"column"},t.createElement("div",{className:_([x,{display:"block"}])},s))),t.createElement(r.a,{marginTop:"4px",display:"flex",flexDirection:"row"},t.createElement(k.kZ,{scale:"S",color:"LIGHTER"},"Publication"),t.createElement(d.d,{margin:"0 8px"}),t.createElement(m.N,{href:h,linkStyle:"SUBTLE",rules:C},t.createElement(k.kZ,{scale:"S",color:"DARKER",tag:"span"},(0,g.Ct)(c.subscriberCount||0)),t.createElement(k.kZ,{scale:"S",tag:"span"},"Â Followers")))),b&&t.createElement(r.a,{paddingTop:"12px"},t.createElement(k.kZ,{scale:"S",color:"DARKER",clamp:4},t.createElement(a.O,{wrapLinks:!0},b))))}},60213:(e,n,i)=>{i.d(n,{u:()=>c,z:()=>d});var t=i(88835),o=i(96540),l=i(39160),a=i(79959),c=function(){var e=(0,l.d4)((function(e){return e.navigation.currentLocation})),n=(0,l.d4)((function(e){return e.config.authDomain})),i=(0,a.fo)();return(0,o.useCallback)((function(o){var l=o.id,a=o.domain,c=function(e){var n=e.id,i=e.slug;return i?"/".concat(i):"/c/".concat(n)}({id:l,domain:a,slug:o.slug});if(i)return"https://".concat(n).concat(c);var d=(0,t.parse)(e).port;return a?"https://".concat(a).concat(d?":".concat(d):""):"https://".concat(n).concat(c)}),[i])},d=function(e){return c()(e)}},82567:(e,n,i)=>{i.d(n,{$:()=>l});var t=i(45458),o=i(59265),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionAvatar_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}}].concat((0,t.A)(o.dl.definitions))}},28899:(e,n,i)=>{i.d(n,{u:()=>k});var t=i(96540),o=i(60213),l=i(7580),a=i(90280),c=i(86975),d=i(12378),r=i(44402),u=i(90383),m=function(e){return function(n){return{borderRadius:(0,d.c)(n.borderRadius.regular),width:(0,d.c)(e),height:(0,d.c)(e),backgroundColor:n.colorTokens.background.neutral.secondary.base}}},s=function(e){return function(n){return{borderRadius:(0,d.c)(n.borderRadius.regular),display:"block",height:"".concat(e,"px"),width:"".concat(e,"px"),position:"absolute",top:0,border:"1px solid rgba(0, 0, 0, 0.05)"}}},k=function(e){var n=e.circular,i=e.collection,d=e.size,k=void 0===d?60:d,p=e.link,f=e.showHoverState,v=(0,o.z)(i),S=(0,r.l)();if(!i||!i.avatar||!i.avatar.id)return null;var g=i.avatar.id,N=i.name||"Publication avatar",b=n?t.createElement(l.r,{miroId:g,alt:N,diameter:k,freezeGifs:!1,showHoverState:f}):t.createElement("div",{style:{position:"relative",border:"2px solid white",borderRadius:"6px"}},t.createElement(a.pg,{rules:[m(k)],miroId:g,alt:N,width:k,height:k,strategy:u.qY.Crop}),t.createElement("div",{className:S(s(k))}));return p?t.createElement(c.D,{href:v},b):b}},3545:(e,n,i)=>{i.d(n,{V:()=>a,f:()=>c});var t=i(45458),o=i(59265),l=i(62742),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionFollowButton_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}}]},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionFollowButton_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_collection"}}]}}].concat((0,t.A)(o.dl.definitions),(0,t.A)(l.Km.definitions))}},87147:(e,n,i)=>{i.d(n,{E:()=>y});var t=i(80296),o=i(95420),l=i(96540),a=i(54239),c=i(26679),d=i(34208),r=i(2550),u=i(52764),m=i(86329),s=i(43634),k=i(15473),p=i(86527),f=i(52290),v=i(99731),S=i(34317),g=i(49287),N=i(51260),b=i(39160),C=i(46879),y=function(e){var n,i=e.buttonSize,C=e.buttonStyleFn,y=e.collection,E=e.post,F=e.simpleLink,h=e.susiEntry,x=void 0===h?"follow_card":h,_=e.preventParentClick,D=e.width,A=(0,b.d4)((function(e){return e.config.authDomain})),T=(0,r.A)().viewerId,R=(0,S.$)(),I=(0,g.jI)(),z=(0,a.zy)(),L=(0,N.W5)(z.pathname),B=null==L||null===(n=L.route)||void 0===n?void 0:n.name,U=(0,m.J)(y),P=U.viewerEdge,V=U.loading,Z=function(e,n){var i=(0,o.n)(d.j),a=(0,t.A)(i,1)[0];return l.useCallback((function(){return a({variables:{id:e.id},optimisticResponse:{followCollection:{__typename:"Collection",id:e.id,name:e.name,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e.id,"-viewerId:").concat(n),isFollowing:!0}}},update:function(i){i.modify({id:"User:".concat(n),fields:{missionControl:(0,k.A4)("followedCollections",!0),followingCollectionConnection:(0,k.CQ)(e.id)}})}})}),[e.id])}(y,T),O=function(e,n){var i=(0,o.n)(d.E),a=(0,t.A)(i,1)[0];return l.useCallback((function(){return a({variables:{id:e.id},optimisticResponse:{unfollowCollection:{__typename:"Collection",id:e.id,name:e.name,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e.id,"-viewerId:").concat(n),isFollowing:!1}}},update:function(e){e.modify({id:"User:".concat(n),fields:{missionControl:(0,k.A4)("followedCollections",!1)}})}})}),[e.id])}(y,T),j=l.useCallback((function(e){_&&e.preventDefault(),R.event("collection.followed",{collectionId:y.id,followSource:I}),Z()}),[y,_,I,R]),q=l.useCallback((function(e){_&&e.preventDefault(),R.event("collection.unfollowed",{collectionId:y.id,followSource:I}),O()}),[_,I,R]),K=!(null==P||!P.isFollowing),M=C?C(!!K):K?"OBVIOUS":"STRONG";return F?l.createElement(p.N,{onClick:K?q:j},l.createElement(f.a,{display:"flex",flexDirection:"row"},K?"Unfollow publication":"Follow publication")):l.createElement(u.c,null,(function(e){return e?l.createElement(v.$n,{size:i,onClick:K?q:j,buttonStyle:M,loading:V,width:D},K?"Following":"Follow"):l.createElement(s.r,{collection:y,buttonStyle:M,isButton:!0,buttonSize:i,operation:"register",actionUrl:w(A,y,E)||"",susiEntry:x,pageSource:(0,c.x)(B,"register"),buttonWidth:D},K?"Following":"Follow")}))},w=function(e,n,i){return n.slug&&(i&&i.id?(0,C.PdS)(e,n.slug,i.id):(0,C.xNA)(e,n.slug))}},62742:(e,n,i)=>{i.d(n,{CV:()=>a,Km:()=>l,LI:()=>c,ei:()=>d});var t=i(45458),o=i(51999),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiClickable_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_collection"}}]}}].concat((0,t.A)(o.Xv.definitions))},a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiClickable_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_post"}}]}}].concat((0,t.A)(o.pp.definitions))},c=([{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiClickable_topic"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Topic"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_topic"}}]}}].concat((0,t.A)(o.oN.definitions)),{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiClickable_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_user"}}]}}].concat((0,t.A)(o.SL.definitions))}),d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiClickable_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_newsletterV3"}}]}}].concat((0,t.A)(o.zl.definitions))};[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SusiClickableAccountTokenQuery"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_query"}}]}}].concat((0,t.A)(o.PQ.definitions))}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/5025.c694903c.chunk.js.map